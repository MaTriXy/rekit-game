package edu.kit.informatik.ragnarok.logic.gameelements;

import org.eclipse.swt.graphics.GC;

import config.c;
import edu.kit.informatik.ragnarok.logic.PlayerState;
import edu.kit.informatik.ragnarok.logic.Vec2D;

public class Player extends Entity {
	/**
	 * <pre>
	 *           1..1     1..1
	 * Player ------------------------- PlayerState
	 *           player        &gt;       playerState
	 * </pre>
	 */
	private PlayerState playerState;

	public Player(Vec2D startPos) {
		this.setPos(startPos);
	}
	
	public void setPlayerState(PlayerState value) {
		this.playerState = value;
	}

	public PlayerState getPlayerState() {
		return this.playerState;
	}

	@Override
	public void render(GC gc) {
		Vec2D pos = this.getPos();
		gc.drawOval(
				(int) ((pos.getX() - 0.5f) * c.pxPerUnit),
				(int) ((pos.getY() - 0.5f) * c.pxPerUnit),
				1 * c.pxPerUnit,
				1 * c.pxPerUnit 
				);
	}

	@Override
	public void logicLoop(float deltaTime) {
		// s1 = s0 + v*t
		this.setPos(this.getPos().add(this.getVel().multiply(deltaTime)));
		
		this.getVel().addY(c.g);
	}

	@Override
	public void damage(int damage) {
		// TODO implement this operation
		throw new UnsupportedOperationException("not implemented");

	}

	@Override
	public void resetPosition() {
		// TODO implement this operation
		throw new UnsupportedOperationException("not implemented");

	}

}
